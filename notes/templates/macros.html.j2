{#
 # Render the nav links bar
 #
 # Params:
 # * title: title of the current page
 # * _varargs_: `history`, `home`, and/or `docs`
 #}
{% macro nav_links(title) %}
  <div class="nav-page-links">
    [
    {% for link in varargs %}
      {% if link == 'history' %}
        <a href="{{ url_for('page.history', title=title) }}">History</a>
      {% elif link == 'home' %}
        <a href="{{ url_for('page.view', title='home') }}">Home</a>
      {% elif link == 'docs' %}
        <a href="{{ url_for('page.docs') }}" target="_blank">Docs</a>
      {% endif %}
      {% if not loop.last %} | {% endif %}
    {% endfor %}
    ]
  </div>
{% endmacro %}

{% macro toc(title) %}
  <div id="toc">
    <div class="nav-header">Contents</div>
    <div
      hx-get="{{ url_for('page.toc', title=title) }}"
      hx-trigger="load">
    </div>
  </div>
{% endmacro %}

{% macro related(title, relatives) %}
  <div>
    <div class="nav-header" id="related-pages">
      Related
      <span class="add-relation">
        [<span id="add-relation-btn">add</span>]
      </span>
    </div>
    <div id="related-links" data-widget-url="{{ url_for('page.get_relatives', title=title) }}">
      {% include "related.html.j2" %}
    </div>
  </div>
{% endmacro %}
